{% extends 'base.html' %}
{% block content %}
<h1>Profile</h1>
<p><strong>Username:</strong> {{ user.username }}</p>
<p><strong>Display Name:</strong> {{ user.display_name }}</p>
<p><strong>Name Changes Left:</strong> {{ user.name_changes_left }}</p>
{% if user.is_admin %}
<p><strong>Role:</strong> Admin</p>
{% endif %}

{% if user.name_changes_left > 0 %}
<h2>Change Display Name</h2>
<form action="/auth/change-name" method="post">
  <label>New Display Name</label>
  <input type="text" name="new_name" value="{{ user.display_name }}" required />
  <button type="submit">Change Name</button>
</form>
{% else %}
<p>No name changes left.</p>
{% endif %}

{% if error %}
<div class="error">{{ error }}</div>
{% endif %}
{% endblock %}